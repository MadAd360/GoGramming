{% extends "menubar.html" %}
{% block head %}
<script type="text/javascript">

$(document).ready(function(){
    $("#popover").popover({
        placement : 'top',
	html: 'true',
	content: '<button name="btn" value="Delete" type="submit" class="btn btn-default">Yes</button>'+'<button name="btn" class="btn btn-default" onclick="$(&quot;#popover&quot;).popover(&quot;hide&quot;);">No</button>'
	});
});
</script>
{% endblock %}

{% block within %}
<div class="panel panel-default">
  <div class="panel-body">
<form role="form" method="post" name="Edit">
<h4 class="col-md-4">{{file.filename}}:</h4>

    <div class="btn-group pull-right">
  <button name="btn" value="Save" type="submit" class="btn btn-default">Save</button>
  <button name="btn" value="Validate" type="submit" class="btn btn-default">Validate</button>
  <a id="popover" class="btn btn-default" data-toggle="popover" title="Are you sure?" >Delete</a>
	</div>

   <textarea name="newcontent" class="form-control" rows="30">{{file.content}}</textarea>

<pre id="editor" class="form-control" style=" height: 450px;">{{file.content}}</pre>

<script>
    var editor = ace.edit('editor');
    editor.setTheme("ace/theme/tomorrow");
    editor.getSession().setMode("ace/mode/javascript");
    var textarea = $('textarea[name="newcontent"]').hide();
    editor.getSession().on('change', function(){
        textarea.val(editor.getSession().getValue());
    });
</script>


</form>
 </div>
</div>
{% endblock %}
