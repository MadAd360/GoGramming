{% extends "menubar.html" %}
{% block head %}
<script type="text/javascript">
$(document).ready(function(){
    $("#popover").popover({
        placement : 'top',
	html: 'true',
	content: '<button name="btn" value="Delete" type="submit" class="btn btn-default">Yes</button>'+
		'<button name="btn" class="btn btn-default" onclick="$(&quot;#popover&quot;).popover(&quot;hide&quot;);">No</button>'
	});
});

$(document).delegate('#textbox', 'keydown', function(e) {
  var keyCode = e.keyCode || e.which;

  if (keyCode == 9) {
    e.preventDefault();
    var start = $(this).get(0).selectionStart;
    var end = $(this).get(0).selectionEnd;

    // set textarea value to: text before caret + tab + text after caret
    $(this).val($(this).val().substring(0, start)
                + "\t"
                + $(this).val().substring(end));

    // put caret at right position again
    $(this).get(0).selectionStart =
    $(this).get(0).selectionEnd = start + 1;
  }
});
</script>
{% endblock %}

{% block within %}
<div class="panel panel-default">
  <div class="panel-body">
<form role="form" method="post" name="Edit">
<h4 class="col-md-4">{{file.filename}}:</h4>

    <div class="btn-group pull-right">
  <button name="btn" value="Save" type="submit" class="btn btn-default">Save</button>
  <button name="btn" value="Validate" type="submit" class="btn btn-default">Validate</button>
  <a id="popover" class="btn btn-default" data-toggle="popover" title="Are you sure?" >Delete</a>
	</div>

   <textarea id="textbox" name="newcontent" class="form-control" rows="30">{{file.content}}</textarea>
 </div>
</form>
</div>
{% endblock %}
